box: wercker/php
build:
  steps:
    - script:
        name: Install extensions
        code: |-
          pecl install memcache
          pecl install SQLite
    - script:
        name: install dependencies
        code: |-
            composer install --no-interaction
    - script:
        name: Serve application for integration tests
        code: php -S localhost:8000 >> /dev/null &
    - script:
        name: PHPUnit integration tests
        code: phpunit --configuration phpunit.xml
